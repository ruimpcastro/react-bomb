{"ast":null,"code":"var _jsxFileName = \"/Users/ruicastro/Desktop/React_Rui_Castro/src/Board.js\";\nimport React, { Component } from \"react\";\nimport Square from \"./Square\";\nimport \"./Board.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction shuffle() {\n  let array = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n  let currentIndex = array.length,\n      temporaryValue,\n      randomIndex; // While list not empty\n\n  while (0 !== currentIndex) {\n    // Pick a random element\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1; // And swap it with the current element;\n\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nfunction resetPremios() {\n  premios = [[\"Telemóvel\", 800], [\"Viagem aos Açores para 2 pessoas\", 1000], [\"Viagem à Madeira para 2 pessoas\", 1000], [\"Máquina de lavar roupa\", 600], [\"Máquina de lavar loiça\", 800], [\"Micro-ondas\", 100], [\"Frigorífico\", 850], [\"Máquina de café\", 100], [\"Computador\", 950], [\"Tablet\", 250], [\"Cruzeiro à ilhas gregas para 2 pessoas\", 2000], [\"Colar de Romeu Bettencourt\", 1000], [\"Viagem à Turquia para 2 pessoas\", 750], [\"Bicicleta de Manutenção\", 300], [\"Fim de semana para 2 pessoas no Hotel Buçaco\", 1000], [\"Prémio Monetário (100€)\", 100], [\"Prémio Monetário (200€)\", 200], [\"Prémio Monetário (300€)\", 300], [\"Prémio Monetário (400€)\", 400], [\"Prémio Monetário (500€)\", 500]];\n}\n\nfunction escolha(choices) {\n  let index = Math.floor(Math.random() * choices.length);\n  return choices[index];\n}\n\nfunction totalPremios(listaPremios) {\n  let totalPremio = 0;\n\n  for (let i = 0; i <= listaPremios.length; i++) {\n    totalPremio *= listaPremios[1];\n  }\n\n  return totalPremio;\n}\n\nfunction removeItem(value) {\n  let index = premios.indexOf(value);\n\n  if (index > -1) {\n    premios.splice(index, 1);\n  }\n}\n\nfunction gerarJackpot() {\n  return Math.floor(Math.random() * 2000) + 2000 + maiorPremio;\n}\n\nfunction gerarListaPremios() {\n  let listaPremios = [];\n\n  while (listaPremios.length < 9) {\n    let premioEscolhido = escolha(premios);\n    listaPremios.push(premioEscolhido);\n    removeItem(premioEscolhido);\n\n    if (premioEscolhido[1] > maiorPremio) {\n      maiorPremio = premioEscolhido[1];\n    }\n  }\n\n  if (totalPremios(listaPremios) > 10000) {\n    resetPremios();\n    gerarListaPremios();\n  }\n\n  resetPremios();\n  return listaPremios;\n}\n\nfunction inserirEspeciais() {\n  let indexJackpot = 0;\n  let indexBomba = 0;\n\n  while (indexJackpot === indexBomba) {\n    indexJackpot = Math.floor(Math.random() * 8);\n    indexBomba = Math.floor(Math.random() * 8);\n  }\n\n  premiosSelecionados[indexJackpot] = [\"JACKPOT\", jackpot];\n  premiosSelecionados[indexBomba] = [\"Bomba\", 0];\n}\n\nlet array = shuffle();\nlet premios;\nlet maiorPremio = 0;\nresetPremios();\nlet premiosSelecionados = gerarListaPremios();\nlet jackpot = gerarJackpot();\ninserirEspeciais();\nconsole.log(premiosSelecionados);\n\nclass Board extends Component {\n  constructor(props) {\n    super(props);\n    this.premiosDescobertos = [];\n    this.totalPremios = 0;\n    this.state = {\n      premiosDescobertos: [],\n      totalPremios: 0,\n      bomba: false\n    };\n  }\n\n  handleClick(i) {\n    if (!this.state.bomba) {\n      let nomePremio = premiosSelecionados[i - 1][0];\n      let custoPremio = premiosSelecionados[i - 1][1];\n\n      if (nomePremio === \"Bomba\") {\n        this.setState({\n          premiosDescobertos: [\"ACERTOU NA BOMBA! PERDEU OS SEUS PRÉMIOS!\"],\n          totalPremios: 0,\n          bomba: true\n        });\n      } else if (!this.state.premiosDescobertos.includes(nomePremio) && nomePremio !== \"JACKPOT\") {\n        let totalPremios = this.state.totalPremios;\n        let premiosDescobertos = this.state.premiosDescobertos;\n        totalPremios += custoPremio;\n        premiosDescobertos.push(nomePremio);\n        this.setState({\n          totalPremios: totalPremios,\n          premiosDescobertos: premiosDescobertos\n        });\n        console.log(this.state.premiosDescobertos);\n      }\n    }\n  }\n\n  handleQuestionClick(resposta, parent) {\n    let premiosDescobertos = parent.state.premiosDescobertos;\n    let totalPremios = parent.state.totalPremios;\n    let bomba = parent.state.bomba;\n\n    if (resposta === \"nao\") {\n      // ERROU\n      premiosDescobertos.push(\"JACKPOT: RESPOSTA FALHADA\");\n      parent.setState({\n        premiosDescobertos: premiosDescobertos,\n        totalPremios: totalPremios,\n        bomba: bomba\n      });\n    } else {\n      // ACERTOU\n      premiosDescobertos.push(\"JACKPOT: RESPOSTA ACERTADA\");\n      totalPremios += jackpot;\n      parent.setState({\n        premiosDescobertos: premiosDescobertos,\n        totalPremios: totalPremios,\n        bomba: bomba\n      });\n    }\n  }\n\n  renderSquare(i) {\n    return /*#__PURE__*/_jsxDEV(Square, {\n      value: i,\n      onClick: () => this.handleClick(i),\n      parent: this\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this);\n  }\n\n  listToHTML() {\n    let lista = this.state.premiosDescobertos;\n    let returnString = \"\";\n\n    for (let i = 0; i < lista.length; i++) {\n      returnString += lista[i] + \"\\n\";\n    }\n\n    return returnString;\n  }\n\n  render() {\n    const status = \"The bomb\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(array[0]), this.renderSquare(array[1]), this.renderSquare(array[2])]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(array[3]), this.renderSquare(array[4]), this.renderSquare(array[5])]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board-row\",\n        children: [this.renderSquare(array[6]), this.renderSquare(array[7]), this.renderSquare(array[8])]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Pr\\xE9mio: \", this.state.totalPremios]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"premios\",\n        children: this.listToHTML()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Board;","map":{"version":3,"sources":["/Users/ruicastro/Desktop/React_Rui_Castro/src/Board.js"],"names":["React","Component","Square","shuffle","array","currentIndex","length","temporaryValue","randomIndex","Math","floor","random","resetPremios","premios","escolha","choices","index","totalPremios","listaPremios","totalPremio","i","removeItem","value","indexOf","splice","gerarJackpot","maiorPremio","gerarListaPremios","premioEscolhido","push","inserirEspeciais","indexJackpot","indexBomba","premiosSelecionados","jackpot","console","log","Board","constructor","props","premiosDescobertos","state","bomba","handleClick","nomePremio","custoPremio","setState","includes","handleQuestionClick","resposta","parent","renderSquare","listToHTML","lista","returnString","render","status"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Square from \"./Square\";\r\nimport \"./Board.css\";\r\n\r\nfunction shuffle() {\r\n  let array = [1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n  let currentIndex = array.length,\r\n    temporaryValue,\r\n    randomIndex;\r\n\r\n  // While list not empty\r\n  while (0 !== currentIndex) {\r\n    // Pick a random element\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element;\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\nfunction resetPremios() {\r\n  premios = [\r\n    [\"Telemóvel\", 800],\r\n    [\"Viagem aos Açores para 2 pessoas\", 1000],\r\n    [\"Viagem à Madeira para 2 pessoas\", 1000],\r\n    [\"Máquina de lavar roupa\", 600],\r\n    [\"Máquina de lavar loiça\", 800],\r\n    [\"Micro-ondas\", 100],\r\n    [\"Frigorífico\", 850],\r\n    [\"Máquina de café\", 100],\r\n    [\"Computador\", 950],\r\n    [\"Tablet\", 250],\r\n    [\"Cruzeiro à ilhas gregas para 2 pessoas\", 2000],\r\n    [\"Colar de Romeu Bettencourt\", 1000],\r\n    [\"Viagem à Turquia para 2 pessoas\", 750],\r\n    [\"Bicicleta de Manutenção\", 300],\r\n    [\"Fim de semana para 2 pessoas no Hotel Buçaco\", 1000],\r\n    [\"Prémio Monetário (100€)\", 100],\r\n    [\"Prémio Monetário (200€)\", 200],\r\n    [\"Prémio Monetário (300€)\", 300],\r\n    [\"Prémio Monetário (400€)\", 400],\r\n    [\"Prémio Monetário (500€)\", 500],\r\n  ];\r\n}\r\n\r\nfunction escolha(choices) {\r\n  let index = Math.floor(Math.random() * choices.length);\r\n  return choices[index];\r\n}\r\n\r\nfunction totalPremios(listaPremios) {\r\n  let totalPremio = 0;\r\n  for (let i = 0; i <= listaPremios.length; i++) {\r\n    totalPremio *= listaPremios[1];\r\n  }\r\n  return totalPremio;\r\n}\r\n\r\nfunction removeItem(value) {\r\n  let index = premios.indexOf(value);\r\n  if (index > -1) {\r\n    premios.splice(index, 1);\r\n  }\r\n}\r\n\r\nfunction gerarJackpot() {\r\n  return Math.floor(Math.random() * 2000) + 2000 + maiorPremio;\r\n}\r\n\r\nfunction gerarListaPremios() {\r\n  let listaPremios = [];\r\n  while (listaPremios.length < 9) {\r\n    let premioEscolhido = escolha(premios);\r\n    listaPremios.push(premioEscolhido);\r\n    removeItem(premioEscolhido);\r\n    if (premioEscolhido[1] > maiorPremio) {\r\n      maiorPremio = premioEscolhido[1];\r\n    }\r\n  }\r\n  if (totalPremios(listaPremios) > 10000) {\r\n    resetPremios();\r\n    gerarListaPremios();\r\n  }\r\n  resetPremios();\r\n  return listaPremios;\r\n}\r\n\r\nfunction inserirEspeciais() {\r\n  let indexJackpot = 0;\r\n  let indexBomba = 0;\r\n  while (indexJackpot === indexBomba) {\r\n    indexJackpot = Math.floor(Math.random() * 8);\r\n    indexBomba = Math.floor(Math.random() * 8);\r\n  }\r\n  premiosSelecionados[indexJackpot] = [\"JACKPOT\", jackpot];\r\n  premiosSelecionados[indexBomba] = [\"Bomba\", 0];\r\n}\r\n\r\nlet array = shuffle();\r\nlet premios;\r\nlet maiorPremio = 0;\r\nresetPremios();\r\nlet premiosSelecionados = gerarListaPremios();\r\nlet jackpot = gerarJackpot();\r\ninserirEspeciais();\r\nconsole.log(premiosSelecionados);\r\n\r\nclass Board extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.premiosDescobertos = [];\r\n    this.totalPremios = 0;\r\n    this.state = { premiosDescobertos: [], totalPremios: 0, bomba: false };\r\n  }\r\n\r\n  handleClick(i) {\r\n    if (!this.state.bomba) {\r\n      let nomePremio = premiosSelecionados[i - 1][0];\r\n      let custoPremio = premiosSelecionados[i - 1][1];\r\n      if (nomePremio === \"Bomba\") {\r\n        this.setState({\r\n          premiosDescobertos: [\"ACERTOU NA BOMBA! PERDEU OS SEUS PRÉMIOS!\"],\r\n          totalPremios: 0,\r\n          bomba: true,\r\n        });\r\n      } else if (\r\n        !this.state.premiosDescobertos.includes(nomePremio) &&\r\n        nomePremio !== \"JACKPOT\"\r\n      ) {\r\n        let totalPremios = this.state.totalPremios;\r\n        let premiosDescobertos = this.state.premiosDescobertos;\r\n        totalPremios += custoPremio;\r\n        premiosDescobertos.push(nomePremio);\r\n        this.setState({\r\n          totalPremios: totalPremios,\r\n          premiosDescobertos: premiosDescobertos,\r\n        });\r\n        console.log(this.state.premiosDescobertos);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleQuestionClick(resposta, parent) {\r\n    let premiosDescobertos = parent.state.premiosDescobertos;\r\n    let totalPremios = parent.state.totalPremios;\r\n    let bomba = parent.state.bomba;\r\n    if (resposta === \"nao\") {\r\n      // ERROU\r\n      premiosDescobertos.push(\"JACKPOT: RESPOSTA FALHADA\");\r\n      parent.setState({\r\n        premiosDescobertos: premiosDescobertos,\r\n        totalPremios: totalPremios,\r\n        bomba: bomba,\r\n      });\r\n    } else {\r\n      // ACERTOU\r\n      premiosDescobertos.push(\"JACKPOT: RESPOSTA ACERTADA\");\r\n      totalPremios += jackpot;\r\n      parent.setState({\r\n        premiosDescobertos: premiosDescobertos,\r\n        totalPremios: totalPremios,\r\n        bomba: bomba,\r\n      });\r\n    }\r\n  }\r\n\r\n  renderSquare(i) {\r\n    return (\r\n      <Square value={i} onClick={() => this.handleClick(i)} parent={this} />\r\n    );\r\n  }\r\n\r\n  listToHTML() {\r\n    let lista = this.state.premiosDescobertos;\r\n    let returnString = \"\";\r\n    for (let i = 0; i < lista.length; i++) {\r\n      returnString += lista[i] + \"\\n\";\r\n    }\r\n    return returnString;\r\n  }\r\n\r\n  render() {\r\n    const status = \"The bomb\";\r\n\r\n    return (\r\n      <div className=\"table\">\r\n        <div className=\"status\">\r\n          <h1>{status}</h1>\r\n        </div>\r\n        <br />\r\n        <div className=\"board-row\">\r\n          {this.renderSquare(array[0])}\r\n          {this.renderSquare(array[1])}\r\n          {this.renderSquare(array[2])}\r\n        </div>\r\n\r\n        <div className=\"board-row\">\r\n          {this.renderSquare(array[3])}\r\n          {this.renderSquare(array[4])}\r\n          {this.renderSquare(array[5])}\r\n        </div>\r\n\r\n        <div className=\"board-row\">\r\n          {this.renderSquare(array[6])}\r\n          {this.renderSquare(array[7])}\r\n          {this.renderSquare(array[8])}\r\n        </div>\r\n        <div>\r\n          <h3>Prémio: {this.state.totalPremios}</h3>\r\n        </div>\r\n        <div className=\"premios\">{this.listToHTML()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Board;\r\n"]},"metadata":{},"sourceType":"module"}